<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1500" height="700" viewBox="0 0 1200 700">
  <style>
    .node { fill: #e8f4f8; stroke: #1e5a96; stroke-width:2; rx:6; }
    .text { font: 13px sans-serif; font-weight: bold; fill: #0d2b45; }
    .small { font: 12px sans-serif; fill: #1a3a52; }
    .line { stroke: #4a7ba7; stroke-width:2; }
    .note { font: 11px sans-serif; fill: #555; }
  </style>

  <!-- White background -->
  <rect x="-200" y="0" width="1500" height="700" fill="#ffffff" />

  <!-- Level 0: Root -->
  <line class="line" x1="600" y1="80" x2="200" y2="160"/>
  <line class="line" x1="600" y1="80" x2="1000" y2="160"/>
  
  <rect class="node" x="520" y="30" width="160" height="50"/>
  <text class="text" x="600" y="62" text-anchor="middle">getMode(0,6)</text>

  <!-- Level 1: Left and Right -->
  <line class="line" x1="200" y1="210" x2="20" y2="290"/>
  <line class="line" x1="200" y1="210" x2="380" y2="290"/>
  <line class="line" x1="1000" y1="210" x2="820" y2="290"/>
  <line class="line" x1="1000" y1="210" x2="1180" y2="290"/>
  
  <rect class="node" x="110" y="160" width="180" height="50"/>
  <text class="text" x="200" y="192" text-anchor="middle">getMode(0,3)</text>

  <rect class="node" x="910" y="160" width="180" height="50"/>
  <text class="text" x="1000" y="192" text-anchor="middle">getMode(4,6)</text>

  <!-- Level 2: Four nodes -->
  <line class="line" x1="20" y1="340" x2="-70" y2="420"/>
  <line class="line" x1="20" y1="340" x2="110" y2="420"/>
  <line class="line" x1="380" y1="340" x2="290" y2="420"/>
  <line class="line" x1="380" y1="340" x2="470" y2="420"/>
  <line class="line" x1="820" y1="340" x2="730" y2="420"/>
  <line class="line" x1="820" y1="340" x2="910" y2="420"/>
  
  <rect class="node" x="-50" y="290" width="180" height="50"/>
  <text class="text" x="40" y="322" text-anchor="middle">getMode(0,1)</text>

  <rect class="node" x="290" y="290" width="180" height="50"/>
  <text class="text" x="380" y="322" text-anchor="middle">getMode(2,3)</text>

  <rect class="node" x="730" y="290" width="180" height="50"/>
  <text class="text" x="820" y="322" text-anchor="middle">getMode(4,5)</text>

  <rect class="node" x="1090" y="290" width="180" height="50"/>
  <text class="text" x="1180" y="322" text-anchor="middle">getMode(6,6)</text>

  <!-- Level 3: Leaf nodes -->
  <rect class="node" x="-130" y="420" width="120" height="45"/>
  <text class="small" x="-70" y="450" text-anchor="middle">getMode(0,0)</text>

  <rect class="node" x="50" y="420" width="120" height="45"/>
  <text class="small" x="110" y="450" text-anchor="middle">getMode(1,1)</text>

  <rect class="node" x="230" y="420" width="120" height="45"/>
  <text class="small" x="290" y="450" text-anchor="middle">getMode(2,2)</text>

  <rect class="node" x="410" y="420" width="120" height="45"/>
  <text class="small" x="470" y="450" text-anchor="middle">getMode(3,3)</text>

  <rect class="node" x="670" y="420" width="120" height="45"/>
  <text class="small" x="730" y="450" text-anchor="middle">getMode(4,4)</text>

  <rect class="node" x="850" y="420" width="120" height="45"/>
  <text class="small" x="910" y="450" text-anchor="middle">getMode(5,5)</text>

  <!-- Notes section -->
  <rect x="20" y="520" width="1160" height="160" fill="#f0f8ff" stroke="#cce5ff" stroke-width="1" rx="4"/>
  
  <text class="text" x="30" y="545" font-size="13">分治法递归调用树分析：</text>
  
  <text class="note" x="30" y="570">• 初始调用：getMode(0,6)，数组下标范围 [0,6]，mid = 3</text>
  <text class="note" x="30" y="590">• 左递归：getMode(0,3)  →  左右再分 → 叶节点 getMode(0,0), getMode(1,1), getMode(2,2), getMode(3,3)</text>
  <text class="note" x="30" y="610">• 右递归：getMode(4,6)  →  左右再分 → 叶节点 getMode(4,4), getMode(5,5), getMode(6,6)</text>
  <text class="note" x="30" y="630">• 每层返回时，比较左右值的出现次数，返回次数较多者（众数）</text>
  <text class="note" x="30" y="650">• 时间复杂度：O(n log n)，空间复杂度：O(log n)（递归栈深度）</text>
  <text class="note" x="30" y="670">• low, high, mid 为每次调用的局部变量，随递归栈变化，不会全局修改</text>
</svg>